<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5" />
  <title>è¾°ç™¼ä¼æ¥­ Â· æ™¶ç¢©å¤§æºªç´”æ°´å°ˆæ¡ˆ Â· æ¥µç°¡ç®¡ç†å„€è¡¨æ¿</title>
  <!-- Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- è‡ªè¨‚å­—é«”: Inter æ¥µç°¡é¢¨æ ¼ -->
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
    * { font-family: 'Inter', system-ui, -apple-system, sans-serif; }
    body { background-color: #f7f9fc; }
    .dashboard-card { background: white; border-radius: 1.2rem; box-shadow: 0 2px 10px rgba(0,0,0,0.02); border: 1px solid #edf2f7; }
    .gantt-bar { height: 0.7rem; border-radius: 9999px; background: #e9eef3; overflow: hidden; }
    .gantt-progress { height: 100%; background: #0b4f6c; border-radius: 9999px; }
    .status-pending { background-color: #f3f6f9; color: #4a5c6a; padding: 0.2rem 0.8rem; border-radius: 9999px; font-size: 0.7rem; font-weight: 600; letter-spacing: 0.02em; border: 1px solid #d2dce5; }
    .table-header { background-color: #f2f6fa; color: #1e3a4b; font-weight: 600; font-size: 0.75rem; text-transform: uppercase; }
    .milestone-grid { display: grid; grid-template-columns: 130px 1fr; align-items: center; gap: 0.8rem; }
    /* ä»»å‹™å±¤ç´šç¸®æ’ */
    .level-0 { font-weight: 600; background-color: #fafcfd; border-bottom: 1px solid #edf2f7; }
    .level-1 { padding-left: 1.8rem !important; font-weight: 400; }
    .level-2 { padding-left: 3.5rem !important; font-weight: 400; color: #3f5463; font-size: 0.78rem; }
    .event-highlight { border-left: 4px solid #0b4f6c; background-color: #f8fbfe; }
    .fat-tag-hidden { display: none; } /* å®Œå…¨éš±è—FATæ¨™ç±¤ */
  </style>
  <!-- Font Awesome 6 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="antialiased p-4 md:p-6 text-gray-700">

  <!-- ä¸»è¦å®¹å™¨ -->
  <div class="max-w-7xl mx-auto space-y-6">

    <!-- ===== æ¨™é¡Œåˆ— ===== -->
    <div class="dashboard-card px-6 py-5 flex flex-col md:flex-row md:items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 bg-[#0b4f6c] rounded-xl flex items-center justify-center text-white text-xl"><i class="fas fa-droplet"></i></div>
        <div>
          <h1 class="text-xl font-bold text-[#0b3b4a] tracking-tight">æ™¶ç¢©å¤§æºªå»  Â· 10CMHç´”æ°´äºŒæœŸ</h1>
          <p class="text-sm text-gray-500 mt-0.5">è¾°ç™¼ä¼æ¥­ çµ±åŒ…å·¥ç¨‹ Â· å°ˆæ¡ˆç®¡ç†å„€è¡¨æ¿ (EPC)</p>
        </div>
      </div>
      <div class="mt-3 md:mt-0 flex items-center gap-3 text-sm">
        <span class="px-3 py-1.5 bg-[#e9f0f5] text-[#0b4f6c] rounded-lg font-medium"><i class="far fa-calendar-alt mr-1"></i> ä»Šæ—¥: 2026-02-12</span>
        <span class="px-3 py-1.5 bg-[#0b4f6c] text-white rounded-lg shadow-sm">å¾—æ¨™ 2026-02-06</span>
      </div>
    </div>

    <!-- ===== ç¬¬ä¸€æ’ KPI å¡ç‰‡ ===== èª¿æ•´ï¼šç§»é™¤FATæ—¥æœŸã€é¢¨éšªç„¡ç¼ºå¤± -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
      <div class="dashboard-card p-5 flex items-center gap-4">
        <div class="bg-[#e4edf2] p-3 rounded-xl"><i class="fas fa-chart-pie text-[#0b4f6c] text-xl"></i></div>
        <div>
          <p class="text-xs text-gray-500 uppercase tracking-wider">ç¸½é€²åº¦</p>
          <p class="text-3xl font-bold text-[#0b4f6c]">8<small class="text-sm font-medium text-gray-500 ml-1">%</small></p>
          <span class="text-xs text-gray-500">è¨­è¨ˆ/æ¡è³¼åˆæœŸ</span>
        </div>
      </div>
      <div class="dashboard-card p-5 flex items-center gap-4">
        <div class="bg-[#e4edf2] p-3 rounded-xl"><i class="fas fa-hourglass-half text-[#0b4f6c] text-xl"></i></div>
        <div>
          <p class="text-xs text-gray-500 uppercase tracking-wider">å‰©é¤˜å¤©æ•¸</p>
          <p class="text-3xl font-bold text-[#0b4f6c]">105<small class="text-sm font-medium text-gray-500 ml-1">å¤©</small></p>
          <span class="text-xs text-gray-500">ç›®æ¨™ 2026-05-28</span>
        </div>
      </div>
      <div class="dashboard-card p-5 flex items-center gap-4">
        <div class="bg-[#e4edf2] p-3 rounded-xl"><i class="fas fa-microchip text-[#0b4f6c] text-xl"></i></div>
        <div>
          <p class="text-xs text-gray-500 uppercase tracking-wider">ç›®å‰éšæ®µ</p>
          <p class="text-lg font-bold text-[#0b4f6c]">ç´°éƒ¨è¨­è¨ˆ</p>
          <span class="text-xs text-gray-500">FATå°šæœªå•Ÿå‹•</span> <!-- FATæ—¥æœŸç§»é™¤ -->
        </div>
      </div>
      <div class="dashboard-card p-5 flex items-center gap-4">
        <div class="bg-[#e4edf2] p-3 rounded-xl"><i class="fas fa-clipboard-check text-[#0b4f6c] text-xl"></i></div>
        <div>
          <p class="text-xs text-gray-500 uppercase tracking-wider">é¢¨éšªè¿½è¹¤</p>
          <p class="text-lg font-bold text-[#0b4f6c]">0 é …</p>
          <span class="text-xs text-green-600 font-medium">ç„¡å¾…è¾¦ç¼ºå¤±</span> <!-- æ¸…é™¤FATç¼ºå¤±å­—æ¨£ -->
        </div>
      </div>
    </div>

    <!-- ===== ã€è¨­å‚™è¦ç¯„æ‘˜è¦ã€‘ç§»è‡³ä¸Šæ–¹ (åŸæ°´è³ªè¦ç¯„ä½ç½®) ===== -->
    <div class="dashboard-card p-5">
      <div class="flex items-center gap-2 mb-3">
        <i class="fas fa-file-alt text-[#0b4f6c]"></i>
        <h2 class="text-md font-semibold text-gray-800 uppercase tracking-wider">è¨­å‚™è¦ç¯„æ‘˜è¦ Â· 10CMHè¶…ç´”æ°´</h2>
        <span class="bg-gray-100 text-gray-600 text-xs px-2 py-0.5 rounded-full">ä¾è¦ç¯„æ›¸/æ¨™å–®</span>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
        <div class="border-l-4 border-[#0b4f6c] pl-3">
          <p class="font-medium text-gray-800">ğŸ”¹ ROç”¢æ°´æ°´è³ª</p>
          <p class="text-gray-600 text-xs">ä¸€ç´šRO â‰¤10ÂµS/cm Â· äºŒç´šRO â‰¤5ÂµS/cm Â· UPW â‰¤0.1ÂµS/cm</p>
          <p class="font-medium text-gray-800 mt-2">ğŸ”¹ ä¸»è¦è¨­å‚™å» ç‰Œ</p>
          <p class="text-gray-600 text-xs">æ³µæµ¦: Grundfos / FRPæ§½: è‰¯æ©Ÿ/æ°¸å›º / ROè†œ: DOW, HY / æ¨¹è„‚: Purolite, DOW</p>
        </div>
        <div class="border-l-4 border-gray-200 pl-3">
          <p class="font-medium text-gray-800">ğŸ”¹ å·¥æœŸèˆ‡é‡Œç¨‹ç¢‘</p>
          <p class="text-gray-600 text-xs">è¨‚è³¼å¾Œ135å¤© Â· è¨­è¨ˆ40å¤© Â· æ¡è³¼43å¤© Â· å» é©—FAT: 5/5~5/21</p>
          <p class="font-medium text-gray-800 mt-2">ğŸ”¹ å¾ªç’°ç®¡è·¯è¦æ ¼</p>
          <p class="text-gray-600 text-xs">æ°´åŒ–ç·š2.5" Clean PVC / æ»…èŒé‹3" Clean PVC Â· æµé€Ÿ>1.0m/s</p>
        </div>
      </div>
      <div class="mt-3 text-xs bg-gray-50 p-2.5 rounded flex flex-wrap gap-1 items-center">
        <span class="font-medium">é™„ä»¶ï¼š</span> PFDã€é…ç½®åœ–ã€å¾ªç’°ç®¡è·¯åœ–ï¼ˆç¬¬ä¸€ç‰ˆå·²æäº¤ï¼‰
        <span class="bg-[#0b4f6c]/10 text-[#0b4f6c] px-2 py-0.5 rounded-full ml-1 text-[0.7rem]">å» ç‰Œè¡¨ä¾è¦ç¯„è‚†</span>
      </div>
    </div>

    <!-- ===== é‡Œç¨‹ç¢‘ç”˜ç‰¹åœ– (ç°¡ç´„) ===== -->
    <div class="dashboard-card p-5">
      <div class="flex items-center gap-2 mb-4">
        <i class="fas fa-chart-line text-[#0b4f6c]"></i>
        <h2 class="text-md font-semibold text-gray-800 uppercase tracking-wider">å·¥ç¨‹é‡Œç¨‹ç¢‘ Â· ç”˜ç‰¹è¦–åœ–</h2>
        <span class="bg-gray-100 text-gray-600 text-xs px-2 py-0.5 rounded-full">å…­å¤§éšæ®µ</span>
      </div>
      <div class="space-y-4" id="ganttContainer"></div>
    </div>

    <!-- ===== è©³ç´°æ™‚ç¨‹ç¸½è¡¨ Â· ä¸‰å±¤ç´šä»»å‹™æ¶æ§‹ (å®Œå…¨ä¾ä½¿ç”¨è€…æä¾›ä¹‹éšå±¤) ===== -->
    <div class="dashboard-card p-5">
      <div class="flex items-center gap-2 mb-3">
        <i class="fas fa-tasks text-[#0b4f6c]"></i>
        <h2 class="text-md font-semibold text-gray-800 uppercase tracking-wider">å°ˆæ¡ˆæ™‚ç¨‹ Â· å·¥ä½œåˆ†è§£çµæ§‹ (WBS)</h2>
        <span class="bg-gray-100 text-gray-600 text-xs px-2 py-0.5 rounded-full">è¨­è¨ˆ/æ¡è³¼/å®‰è£/è©¦è»Š</span>
      </div>
      <div class="overflow-x-auto max-h-96 border border-gray-100 rounded-lg scrollbar-thin">
        <table class="min-w-full text-xs">
          <thead class="bg-gray-50 sticky top-0">
            <tr class="text-gray-600">
              <th class="px-3 py-2 text-left">å·¥ä½œé …ç›®</th>
              <th class="px-3 py-2 text-left">å·¥ä½œæ—¥</th>
              <th class="px-3 py-2 text-left">é–‹å§‹</th>
              <th class="px-3 py-2 text-left">çµæŸ</th>
              <th class="px-3 py-2 text-left">é€²åº¦%</th>
              <th class="px-3 py-2 text-left">ç‹€æ…‹</th>
            </tr>
          </thead>
          <tbody id="detailTaskTableBody" class="divide-y divide-gray-100"></tbody>
        </table>
      </div>
      <p class="text-xs text-gray-400 mt-2">* å®Œæ•´ä¸‰å±¤ç´šWBSï¼Œç¬¦åˆè¾°ç™¼ä¼æ¥­2/12æœ€æ–°æ™‚ç¨‹ç‰ˆæ¬¡</p>
    </div>

    <!-- ===== äº‹ä»¶æ—¥èªŒ (Site Diary) Â· ç§»é™¤æ‰€æœ‰FATç›¸é—œ ===== -->
    <div class="dashboard-card p-5">
      <div class="flex items-center gap-2 mb-4">
        <i class="fas fa-clipboard-list text-[#0b4f6c]"></i>
        <h2 class="text-md font-semibold text-gray-800 uppercase tracking-wider">äº‹ä»¶æ—¥èªŒ Â· å» å‹™ç´€éŒ„</h2>
        <!-- FATæ¨™ç±¤å·²éš±è— (class: fat-tag-hidden) -->
        <span class="fat-tag-hidden"></span>
      </div>
      <div class="space-y-1" id="eventLogContainer"></div>
    </div>

    <!-- ===== ã€æ°´è³ªè¦ç¯„ & é©—æ”¶ç‹€æ…‹ã€‘ç§»è‡³æœ€ä¸‹æ–¹ï¼Œå…¨éƒ¨ç‚ºã€Œæœªé€²è¡Œã€ ===== -->
    <div class="dashboard-card p-5">
      <div class="flex items-center gap-2 mb-4">
        <i class="fas fa-table text-[#0b4f6c]"></i>
        <h2 class="text-md font-semibold text-gray-800 uppercase tracking-wider">æ°´è³ªè¦ç¯„ Â· é©—æ”¶ç‹€æ…‹</h2>
        <span class="bg-gray-100 text-gray-600 text-xs px-2 py-0.5 rounded-full">å°šæœªè©¦è»Š Â· å…¨æ•¸æœªé€²è¡Œ</span>
      </div>
      <div class="overflow-x-auto">
        <table class="min-w-full text-sm">
          <thead class="table-header">
            <tr>
              <th class="px-3 py-3 text-left">è¦ç¯„é …ç›®</th>
              <th class="px-3 py-3 text-left">å–®ä½</th>
              <th class="px-3 py-3 text-left">è¦æ±‚å€¼</th>
              <th class="px-3 py-3 text-left">å¯¦æ¸¬å€¼</th>
              <th class="px-3 py-3 text-left">é©—æ”¶ç‹€æ…‹</th>
            </tr>
          </thead>
          <tbody id="waterSpecTableBody" class="divide-y divide-gray-100"></tbody>
        </table>
      </div>
      <p class="text-xs text-gray-400 mt-3 italic">* ä¾æ“šå¤§æºªå» 10CMHè¶…ç´”æ°´è¨­å‚™è¦ç¯„æ›¸ï¼ŒFAT/IQ/OQéšæ®µå°šæœªåŸ·è¡Œï¼Œå…¨æ•¸æ¨™ç¤ºã€Œæœªé€²è¡Œã€</p>
    </div>

    <!-- footer -->
    <div class="text-center text-xs text-gray-400 py-4 border-t border-gray-200">
      è¾°ç™¼ä¼æ¥­ Â· æ™¶ç¢©å¤§æºªäºŒæœŸç´”æ°´å°ˆæ¡ˆ Â· è³‡æ–™æ›´æ–° 2026-02-12 Â· æœ¬å„€è¡¨æ¿ç¬¦åˆæ¥µç°¡ä¸»ç¾©/å°ˆæ¥­ç°è—åŸºèª¿
    </div>
  </div>

  <!-- ========== é‡æ–°å»ºæ§‹çš„ Mock Dataï¼Œå®Œå…¨ç¬¦åˆä½¿ç”¨è€…éœ€æ±‚ ========= -->
  <script id="mockProjectData" type="application/json">
    {
      "projectName": "æ™¶ç¢©å¤§æºª10CMHç´”æ°´äºŒæœŸ",
      "dashboard": { "totalProgress": 8, "remainingDays": 105, "currentPhase": "ç´°éƒ¨è¨­è¨ˆ" },
      "waterSpecs": [
        { "parameter": "å°é›»åº¦ (ä¸€ç´šROç”¢æ°´)", "unit": "ÂµS/cm", "requirement": "â‰¤ 10", "actual": "â€”", "status": "PENDING" },
        { "parameter": "å°é›»åº¦ (äºŒç´šROç”¢æ°´)", "unit": "ÂµS/cm", "requirement": "â‰¤ 5", "actual": "â€”", "status": "PENDING" },
        { "parameter": "å°é›»åº¦ (æ‹‹å…‰æ¨¹è„‚å‡ºå£)", "unit": "ÂµS/cm", "requirement": "â‰¤ 0.1", "actual": "â€”", "status": "PENDING" },
        { "parameter": "TSS (äºŒç´šRO)", "unit": "ppm", "requirement": "â‰¤ 0.5", "actual": "â€”", "status": "PENDING" },
        { "parameter": "TSS (UPW)", "unit": "ppm", "requirement": "â‰¤ 0.1", "actual": "â€”", "status": "PENDING" },
        { "parameter": "pH (ä¸€ç´šRO)", "unit": "-", "requirement": "6.0-8.0", "actual": "â€”", "status": "PENDING" },
        { "parameter": "pH (UPW)", "unit": "-", "requirement": "6.5-7.5", "actual": "â€”", "status": "PENDING" },
        { "parameter": "TOC (UPW)", "unit": "ppb", "requirement": "< 50", "actual": "â€”", "status": "PENDING" },
        { "parameter": "æ¿åº¦ (åŸæ°´)", "unit": "NTU", "requirement": "< 5", "actual": "â€”", "status": "PENDING" },
        { "parameter": "æ®˜ç•™æ°¯ (æ´»æ€§ç¢³å¾Œ)", "unit": "ppm", "requirement": "< 0.1", "actual": "â€”", "status": "PENDING" }
      ],
      "milestones": [
        { "name": "è¨­è¨ˆéšæ®µ", "start": "2026-02-09", "end": "2026-04-15", "progress": 15 },
        { "name": "æ¡è³¼èˆ‡é è£½", "start": "2026-02-09", "end": "2026-04-24", "progress": 8 },
        { "name": "ç›¤é«”çµ„è£/Skid", "start": "2026-03-09", "end": "2026-04-20", "progress": 0 },
        { "name": "FAT å» é©—", "start": "2026-05-05", "end": "2026-05-21", "progress": 0 },
        { "name": "ç¾å ´å®‰è£/é…ç®¡", "start": "2026-03-11", "end": "2026-05-07", "progress": 2 },
        { "name": "è©¦è»Š/ç¢ºæ ¡", "start": "2026-04-17", "end": "2026-05-28", "progress": 0 }
      ],
      "eventLogs": [
        { "date": "2026-02-04", "category": "æŠ•æ¨™", "description": "10CMHç´”æ°´ç³»çµ±äºŒæœŸæŠ•æ¨™æ–‡ä»¶æäº¤", "progress": "å®Œæˆ" },
        { "date": "2026-02-06", "category": "å¾—æ¨™", "description": "è¾°ç™¼ä¼æ¥­æ­£å¼å¾—æ¨™é€šçŸ¥", "progress": "å®Œæˆ" },
        { "date": "2026-02-09", "category": "æœƒè­°ç´€éŒ„", "description": "å…§éƒ¨å°ˆæ¡ˆå•Ÿå‹•æœƒè­°ï¼Œæ ¸å®šWBSèˆ‡è² è²¬äºº", "progress": "å®Œæˆ" },
        { "date": "2026-02-10", "category": "è¨­è¨ˆè®Šæ›´", "description": "æäº¤ç¬¬ä¸€ç‰ˆå¹³é¢é…ç½®åœ–ï¼Œæ¥­ä¸»åé¥‹èª¿æ•´ç®¡æ¶", "progress": "é€²è¡Œä¸­" },
        { "date": "2026-02-11", "category": "å» å‹˜", "description": "ç¾å ´æœƒå‹˜ï¼Œç¢ºèªåŸºåº§ä½ç½®åŠåœå °ç¯„åœ", "progress": "å®Œæˆ" }
      ],
      "detailTasks": [
        {"task":"ç´°éƒ¨è¨­è¨ˆè¦ç•«åŠåœ–é¢è£½ä½œ","workdays":40,"start":"2026-02-09","end":"2026-04-15","progress":5,"level":0},
        {"task":"PIDåœ–è£½ä½œ","workdays":3,"start":"2026-02-09","end":"2026-02-11","progress":100,"level":1},
        {"task":"é…ç½®åœ–è£½ä½œ","workdays":18,"start":"2026-02-09","end":"2026-03-12","progress":15,"level":1},
        {"task":"è¨­å‚™æ¸…å–®è£½ä½œ","workdays":18,"start":"2026-02-09","end":"2026-03-12","progress":15,"level":1},
        {"task":"å„€è¡¨æ¸…å–®è£½ä½œ","workdays":18,"start":"2026-02-09","end":"2026-03-12","progress":15,"level":1},
        {"task":"é–¥ä»¶æ¸…å–®è£½ä½œ","workdays":18,"start":"2026-02-09","end":"2026-03-12","progress":15,"level":1},
        {"task":"ç®¡ç·šæ¸…å–®è£½ä½œ","workdays":18,"start":"2026-02-09","end":"2026-03-12","progress":15,"level":1},
        {"task":"I/O Listè£½ä½œ","workdays":28,"start":"2026-02-09","end":"2026-03-26","progress":8,"level":1},
        {"task":"è¨­å‚™å‹éŒ„åŠè£½ä½œè©³åœ–","workdays":28,"start":"2026-02-09","end":"2026-03-26","progress":8,"level":1},
        {"task":"å„€è¡¨å‹éŒ„åœ–é¢","workdays":18,"start":"2026-02-09","end":"2026-03-12","progress":15,"level":1},
        {"task":"é–¥ä»¶å‹éŒ„åœ–é¢","workdays":18,"start":"2026-02-09","end":"2026-03-12","progress":15,"level":1},
        {"task":"é…ç®¡åŠå¦æ–™å‹éŒ„åœ–é¢","workdays":18,"start":"2026-02-09","end":"2026-03-12","progress":15,"level":1},
        {"task":"ç›¤æ«ƒåœ–è£½ä½œ","workdays":25,"start":"2026-02-09","end":"2026-03-23","progress":10,"level":1},
        {"task":"é›»è·¯åœ–è£½ä½œ(å«é…ç·šåœ–)","workdays":25,"start":"2026-02-09","end":"2026-03-23","progress":10,"level":1},
        {"task":"æ§åˆ¶é‚è¼¯åœ–è£½ä½œ(å«I/O List)","workdays":22,"start":"2026-03-04","end":"2026-04-02","progress":0,"level":1},
        {"task":"HMIäººæ©Ÿç•«é¢è£½ä½œ","workdays":27,"start":"2026-03-06","end":"2026-04-15","progress":0,"level":1},
        {"task":"è¨­å‚™æ¡è³¼åŠçµ„è£é è£½","workdays":43,"start":"2026-02-09","end":"2026-04-20","progress":3,"level":0},
        {"task":"å®šä½é»åŠåŸºåº§ã€é˜²æº¢å·¥ç¨‹","workdays":8,"start":"2026-03-04","end":"2026-03-13","progress":0,"level":1},
        {"task":"æ³µæµ¦æ¡è³¼","workdays":3,"start":"2026-02-09","end":"2026-02-11","progress":100,"level":1},
        {"task":"æ³µæµ¦Skidçµ„ç«‹é è£½","workdays":7,"start":"2026-02-09","end":"2026-02-24","progress":30,"level":1},
        {"task":"RO (å«å¤–ç®¡)åŠSKIDæ¡è³¼åŠè£½ä½œ","workdays":23,"start":"2026-03-09","end":"2026-04-10","progress":0,"level":1},
        {"task":"FRPæ¡¶æ§½è£½ä½œ","workdays":40,"start":"2026-02-13","end":"2026-04-21","progress":2,"level":1},
        {"task":"FRPæ¡¶æ§½è£½ä½œ (2)","workdays":40,"start":"2026-02-13","end":"2026-04-21","progress":2,"level":1},
        {"task":"UVæ¡è³¼åŠæ´¾é€","workdays":47,"start":"2026-02-09","end":"2026-04-24","progress":2,"level":1},
        {"task":"æ¿¾æ–™æ¡è³¼åŠç›¸é—œæº–å‚™","workdays":37,"start":"2026-02-12","end":"2026-04-15","progress":1,"level":0},
        {"task":"å„€è¡¨åŠç®¡ææ¡è³¼","workdays":16,"start":"2026-03-16","end":"2026-04-08","progress":0,"level":1},
        {"task":"è¨­å‚™å» é©—FATåŠç¼ºå¤±æ”¹å–„","workdays":13,"start":"2026-05-12","end":"2026-05-28","progress":0,"level":0},
        {"task":"è¨­å‚™FAT","workdays":1,"start":"2026-05-05","end":"2026-05-05","progress":0,"level":1},
        {"task":"è¨­å‚™å» é©—ç¼ºå¤±æ”¹å–„","workdays":12,"start":"2026-05-06","end":"2026-05-21","progress":0,"level":1},
        {"task":"é…ç®¡","workdays":39,"start":"2026-03-11","end":"2026-05-07","progress":0,"level":0},
        {"task":"ç®¡æé€²å» ","workdays":5,"start":"2026-03-18","end":"2026-03-24","progress":0,"level":1},
        {"task":"ç®¡æ–™é€²å ´","workdays":1,"start":"2026-03-23","end":"2026-03-23","progress":0,"level":1},
        {"task":"ç®¡è·¯é…ç®¡å®‰è£","workdays":8,"start":"2026-03-24","end":"2026-04-02","progress":0,"level":1},
        {"task":"ç®¡è·¯è©¦å£“æ¸¬æ¼","workdays":2,"start":"2026-04-07","end":"2026-04-08","progress":0,"level":1},
        {"task":"ç®¡è·¯æ¸…æ´—","workdays":3,"start":"2026-04-09","end":"2026-04-13","progress":0,"level":1},
        {"task":"ç®¡è·¯ä¿æº« (ç„¡å‰‡å…)","workdays":0,"start":"2026-02-09","end":"2026-02-09","progress":0,"level":1},
        {"task":"é…é›»","workdays":33,"start":"2026-04-10","end":"2026-05-27","progress":0,"level":0},
        {"task":"é›»çºœæ¶é è£½","workdays":8,"start":"2026-03-03","end":"2026-03-12","progress":0,"level":1},
        {"task":"é›»æ–™é€²å» ","workdays":1,"start":"2026-03-19","end":"2026-03-19","progress":0,"level":1},
        {"task":"é›»çºœæ¶å®‰è£","workdays":3,"start":"2026-03-23","end":"2026-03-25","progress":0,"level":1},
        {"task":"é›»ç®¡å®‰è£","workdays":3,"start":"2026-03-23","end":"2026-03-25","progress":0,"level":1},
        {"task":"é›»æºå‹•åŠ›ç·šä½ˆç·š","workdays":3,"start":"2026-04-10","end":"2026-04-14","progress":0,"level":1},
        {"task":"é›»æºå‹•åŠ›ç·šçµç·š","workdays":2,"start":"2026-04-21","end":"2026-04-22","progress":0,"level":1},
        {"task":"å–®å…ƒæ¸¬è©¦ I","workdays":2,"start":"2026-04-23","end":"2026-04-24","progress":0,"level":0},
        {"task":"å„€è¡¨æ§åˆ¶","workdays":2,"start":"2026-04-27","end":"2026-04-28","progress":0,"level":1},
        {"task":"Air Tubeç®¡é…ç½®","workdays":5,"start":"2026-04-29","end":"2026-05-06","progress":0,"level":1},
        {"task":"æ§åˆ¶è¨Šè™Ÿç·šä½ˆç·š","workdays":3,"start":"2026-05-07","end":"2026-05-11","progress":0,"level":1},
        {"task":"æ§åˆ¶è¨Šè™Ÿç·šçµç·š","workdays":3,"start":"2026-05-12","end":"2026-05-14","progress":0,"level":1},
        {"task":"å–®å…ƒæ¸¬è©¦ II","workdays":0,"start":"2026-04-08","end":"2026-04-10","progress":0,"level":0},
        {"task":"å„²è—¥æ§½æ»¿æ°´æ¸¬æ¼æ¸¬è©¦","workdays":2,"start":"2026-04-09","end":"2026-04-10","progress":0,"level":1},
        {"task":"è—¥åŠ‘ç®¡è·¯æ¸…æ°´åŠŸèƒ½æ¸¬è©¦åŠæ¸¬æ¼","workdays":2,"start":"2026-04-08","end":"2026-04-09","progress":0,"level":1},
        {"task":"å…¬ç”¨ç®¡è·¯ä¿å£“æ¸¬æ¼æ¸¬è©¦","workdays":2,"start":"2026-04-21","end":"2026-04-22","progress":0,"level":1},
        {"task":"å„€è¡¨å®‰è£åŠæ ¡æ­£èª¿æ•´","workdays":5,"start":"2026-04-09","end":"2026-04-15","progress":0,"level":1},
        {"task":"è‡ªå‹•æ§åˆ¶æ•´é«”æ¸¬è©¦","workdays":7,"start":"2026-04-17","end":"2026-04-27","progress":0,"level":0},
        {"task":"è‡ªå‹•éæ¿¾å™¨ MMF/SF æ¿¾æ–™å¡«è£","workdays":1,"start":"2026-03-30","end":"2026-03-30","progress":0,"level":1},
        {"task":"è‡ªå‹•éæ¿¾å™¨ MMF/SF æ¸…æ°´æ¸¬è©¦","workdays":3,"start":"2026-04-17","end":"2026-04-21","progress":0,"level":1},
        {"task":"ROè†œå®‰è£","workdays":2,"start":"2026-04-10","end":"2026-04-13","progress":0,"level":1},
        {"task":"ROç³»çµ±æ¸…æ°´åŠŸèƒ½æ¸¬è©¦èª¿æ•´","workdays":5,"start":"2026-04-13","end":"2026-04-17","progress":0,"level":1},
        {"task":"ç´”æ°´æ®µåŠç®¡è·¯æ¸…æ´—","workdays":3,"start":"2026-04-02","end":"2026-04-08","progress":0,"level":1},
        {"task":"æ¨¹è„‚è£å¡«","workdays":3,"start":"2026-04-02","end":"2026-04-08","progress":0,"level":1},
        {"task":"è—¥åŠ‘åŠæ¿¾å¿ƒè€—æå¡«è£","workdays":1,"start":"2026-04-21","end":"2026-04-21","progress":0,"level":1},
        {"task":"è‡ªå‹•éæ¿¾å™¨ MMF/SFå»¢æ°´åŠŸèƒ½","workdays":1,"start":"2026-04-21","end":"2026-04-21","progress":0,"level":1},
        {"task":"RO(å«å»¢æ°´)ç³»çµ±æ¸¬è©¦èˆ‡èª¿æ•´","workdays":1,"start":"2026-04-21","end":"2026-04-21","progress":0,"level":1},
        {"task":"RO CIP è—¥æ´—åŠŸèƒ½æ¸¬è©¦èª¿æ•´","workdays":3,"start":"2026-04-21","end":"2026-04-23","progress":0,"level":1},
        {"task":"å…¨ç³»çµ±è‡ªå‹•é‹è½‰åŠŸèƒ½æ¸¬è©¦èª¿æ•´","workdays":5,"start":"2026-05-04","end":"2026-05-08","progress":0,"level":0},
        {"task":"ç¢ºæ ¡ç›¸é—œå·¥ä½œ","workdays":14,"start":"2026-05-11","end":"2026-05-28","progress":0,"level":0},
        {"task":"è¨­å‚™åŠç®¡è·¯æ¨™ç¤º","workdays":5,"start":"2026-05-25","end":"2026-05-29","progress":0,"level":0},
        {"task":"ç›¸é—œæ–‡ä»¶è£½ä½œåŠæäº¤","workdays":18,"start":"2026-05-05","end":"2026-05-28","progress":0,"level":0},
        {"task":"æ•™è‚²è¨“ç·´","workdays":2,"start":"2026-05-27","end":"2026-05-28","progress":0,"level":0}
      ]
    }
  </script>

  <script>
    (function() {
      const mockData = JSON.parse(document.getElementById('mockProjectData').innerHTML);

      // ----- 1. æ°´è³ªè¦ç¯„è¡¨æ ¼ (å…¨æ•¸æœªé€²è¡Œ) -----
      const specBody = document.getElementById('waterSpecTableBody');
      if (specBody) {
        mockData.waterSpecs.forEach(item => {
          const row = `<tr>
            <td class="px-3 py-2.5 font-medium">${item.parameter}</td>
            <td class="px-3 py-2.5">${item.unit || ''}</td>
            <td class="px-3 py-2.5">${item.requirement}</td>
            <td class="px-3 py-2.5 text-gray-400">${item.actual}</td>
            <td class="px-3 py-2.5"><span class="status-pending">æœªé€²è¡Œ</span></td>
          </tr>`;
          specBody.innerHTML += row;
        });
      }

      // ----- 2. ç”˜ç‰¹åœ– -----
      const ganttContainer = document.getElementById('ganttContainer');
      if (ganttContainer) {
        const projectStart = new Date('2026-02-09');
        const projectEnd = new Date('2026-05-28');
        const totalDays = (projectEnd - projectStart) / (1000 * 3600 * 24);
        mockData.milestones.forEach(m => {
          const startDate = new Date(m.start);
          const endDate = new Date(m.end);
          let leftPercent = Math.max(0, ((startDate - projectStart) / (1000*3600*24)) / totalDays * 100);
          let widthPercent = Math.min(100 - leftPercent, ((endDate - startDate) / (1000*3600*24)) / totalDays * 100);
          if (widthPercent < 2) widthPercent = 2;
          const milestoneHtml = `
            <div class="milestone-grid">
              <div class="text-xs font-medium text-gray-700">${m.name}</div>
              <div>
                <div class="gantt-bar w-full"><div class="gantt-progress" style="width: ${m.progress}%; margin-left: ${leftPercent}%; width: ${widthPercent}%;"></div></div>
                <div class="flex justify-between text-[0.63rem] text-gray-500 mt-1"><span>${m.start}</span><span>${m.end}</span><span>é€²åº¦ ${m.progress}%</span></div>
              </div>
            </div>`;
          ganttContainer.innerHTML += milestoneHtml;
        });
      }

      // ----- 3. æ™‚ç¨‹è¡¨ (ä¸‰å±¤ç´š) ä¾levelç¸®æ’ -----
      const taskBody = document.getElementById('detailTaskTableBody');
      if (taskBody) {
        mockData.detailTasks.forEach(task => {
          let levelClass = 'level-0';
          if (task.level === 1) levelClass = 'level-1';
          else if (task.level === 2) levelClass = 'level-2';
          
          let statusLabel = '';
          if (task.progress >= 100) statusLabel = '<span class="bg-green-100 text-green-700 px-2 py-0.5 rounded-full text-[0.65rem] font-medium">å®Œæˆ</span>';
          else if (task.progress > 0) statusLabel = '<span class="bg-amber-50 text-amber-600 px-2 py-0.5 rounded-full text-[0.65rem] border border-amber-200">é€²è¡Œä¸­</span>';
          else statusLabel = '<span class="bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full text-[0.65rem]">æœªå•Ÿå‹•</span>';
          
          const row = `<tr class="${levelClass} hover:bg-gray-50/80">
            <td class="px-3 py-2 text-gray-800">${task.task}</td>
            <td class="px-3 py-2">${task.workdays}</td>
            <td class="px-3 py-2">${task.start}</td>
            <td class="px-3 py-2">${task.end}</td>
            <td class="px-3 py-2">
              <div class="flex items-center gap-1.5">
                <span class="text-xs font-medium w-7">${task.progress}%</span>
                <div class="w-12 bg-gray-200 rounded-full h-1.5"><div class="bg-[#0b4f6c] h-1.5 rounded-full" style="width: ${task.progress}%;"></div></div>
              </div>
            </td>
            <td class="px-3 py-2">${statusLabel}</td>
          </tr>`;
          taskBody.innerHTML += row;
        });
      }

      // ----- 4. äº‹ä»¶æ—¥èªŒ (å·²ç§»é™¤FATé …ç›®åŠæ¨™ç±¤) -----
      const eventLog = document.getElementById('eventLogContainer');
      if (eventLog) {
        mockData.eventLogs.forEach(ev => {
          let catClass = 'bg-gray-100 text-gray-700';
          if (ev.category.includes('æœƒè­°')) catClass = 'bg-blue-50 text-blue-700';
          else if (ev.category.includes('å¾—æ¨™')) catClass = 'bg-[#0b4f6c] text-white';
          else if (ev.category.includes('æŠ•æ¨™')) catClass = 'bg-gray-200 text-gray-800';
          
          const card = `
            <div class="flex flex-col md:flex-row md:items-center p-3 border-b border-gray-100">
              <div class="flex items-start gap-3 w-full">
                <span class="text-sm font-mono text-gray-400 min-w-[90px]">${ev.date}</span>
                <span class="px-2 py-0.5 rounded-full text-xs font-medium ${catClass}">${ev.category}</span>
                <div class="flex-1">
                  <p class="text-sm text-gray-800">${ev.description}</p>
                  <p class="text-xs text-gray-500 mt-0.5">è™•ç†é€²åº¦ï¼š<span class="${ev.progress === 'å®Œæˆ' ? 'text-green-600' : 'text-amber-600'} font-medium">${ev.progress}</span></p>
                </div>
              </div>
            </div>
          `;
          eventLog.innerHTML += card;
        });
      }
    })();
  </script>

  <!-- è‡ªå®šç¾©æ»¾è»¸æ¨£å¼ -->
  <style>
    .scrollbar-thin::-webkit-scrollbar { width: 4px; height: 4px; }
    .scrollbar-thin::-webkit-scrollbar-thumb { background: #bcc9d3; border-radius: 8px; }
    .level-1 td:first-child { padding-left: 2rem; }
    .level-2 td:first-child { padding-left: 4rem; font-size: 0.75rem; color: #3a5463; }
    .level-0 td:first-child { font-weight: 600; background-color: #f8fbfe; }
    .dashboard-card { transition: none; }
    .fat-tag-hidden { display: none; }
  </style>
</body>
</html>
